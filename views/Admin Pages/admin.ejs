<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <title>Hadj & Omra guid</title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/mobile-style.css">
    <link rel="stylesheet" href="/css/currency.css">
    <link rel="stylesheet" href="/css/meteo.css">
    <link href="https://fonts.googleapis.com/css2?family=Almarai:wght@300&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Almarai&family=Cairo&display=swap" rel="stylesheet">
    <link
        href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i"
        rel="stylesheet" />
    <link href='https://fonts.googleapis.com/css?family=Lato:300,400,700,900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="http://fontawesome.io/assets/font-awesome/css/font-awesome.css">
    <!-- Google Fonts -->
    <link
        href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i"
        rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Baloo+Chettan+2:wght@500&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/2.0.2/anime.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/weather-icons/2.0.10/css/weather-icons.min.css">
    <link rel="stylesheet" href="/css/Rimouski.css">
    <link rel="stylesheet" href="/css/met.css">
    <link rel="stylesheet" href="/css/map.css">
    <script src="/js/main.js"></script>
    <!-----------------------  Script For GPS ------------------------------------>
    <script
        src='http://www.bing.com/api/maps/mapcontrol?callback=GetMap&key=An-DQwMckibyuZ0q93OLo5kSNITR6VevW6-zy4NGjlLPGxMLljye2k7SZHXRF1oU'
        async defer></script>

    <link href="/vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
    <link
        href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
        rel="stylesheet">

    <!-- Custom styles for this template-->
    <link href="/css/user.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/css/user.css">

</head>

<body id="page-top">

    <!-- Page Wrapper -->
    <div id="wrapper">
        <!-- Content Wrapper -->
        <div id="content-wrapper" class="d-flex flex-column">
            <!-- Main Content -->
            <div id="content">
                <!-- Topbar -->
                <nav class="navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow">
                    <!-- Sidebar Toggle (Topbar) -->

                    <!-- Topbar Navbar -->
                    <ul class="navbar-nav ml-auto">

                        <div class="collapse navbar-collapse" id="navbarNav">
                            <div class="guid"> <i class="fab fa-glide-g fa-2x"></i>uid for hadj & omra</i></a></div>
                            <div class="mr-auto"></div>
                            <ul class="navbar-nav nav1">
                                <li class="nav-item active">
                                    <a class="nav-link link1" href="http://localhost:8080">HOME
                                        <span class="sr-only">(current)</span>
                                    </a>
                                </li>
                                <li class="nav-item dropdown">
                                    <div class="dropdown drop">
                                        <a href="#" class="nav-link">MANASIK</a>
                                        <div class="dropdown-content">
                                            <a href="http://localhost:8080/manasik-hadj">MANASIK EL HADJ </a>
                                            <a href="http://localhost:8080/manasik-omra">MANASIK EL OMRA</a>
                                            <a href="http://localhost:8080/ad3iya">ADIYA</a>
                                        </div>
                                    </div>
                                </li>


                            </ul>

                            <!-- Nav Item - Alerts -->
                            <li class="nav-item dropdown no-arrow mx-1">
                                <a class="nav-link dropdown-toggle" href="#" id="alertsDropdown" role="button"
                                    data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    <i class="fas fa-bell fa-fw"></i>
                                    <!-- Counter - Alerts -->
                                    <span class="badge badge-danger badge-counter"></span>
                                </a>
                                <!-- Dropdown - Alerts -->
                                <div class="dropdown-list dropdown-menu dropdown-menu-right shadow animated--grow-in"
                                    aria-labelledby="alertsDropdown">
                                    <h6 class="dropdown-header">
                                        Alerts Center
                                    </h6>
                                    <a class="dropdown-item d-flex align-items-center" href="#">
                                        <div class="mr-3">
                                            <div class="icon-circle bg-primary">
                                                <i class="fas fa-file-alt text-white"></i>
                                            </div>
                                        </div>
                                        <div>
                                            <div class="small text-gray-500">December 12, 2019</div>
                                            <span class="font-weight-bold">message 1</span>
                                        </div>
                                    </a>
                                    <a class="dropdown-item d-flex align-items-center" href="#">
                                        <div class="mr-3">
                                            <div class="icon-circle bg-success">
                                                <i class="fas fa-donate text-white"></i>
                                            </div>
                                        </div>
                                        <div>
                                            <div class="small text-gray-500">December 2, 2019</div>
                                            message 2
                                        </div>
                                    </a>
                                    <a class="dropdown-item d-flex align-items-center" href="#">
                                        <div class="mr-3">
                                            <div class="icon-circle bg-warning">
                                                <i class="fas fa-exclamation-triangle text-white"></i>
                                            </div>
                                        </div>
                                        <div>
                                            <div class="small text-gray-500">December 2, 2019</div>
                                            message 3
                                        </div>
                                    </a>
                                    <a class="dropdown-item text-center small text-gray-500" href="#">Show All
                                        Alerts</a>
                                </div>
                            </li>

                            <!-- Nav Item - Messages -->
                            <!-- Nav Item - Messages -->
                            <!---- <li class="nav-item dropdown no-arrow mx-1">
                                <a class="nav-link dropdown-toggle" href="#" id="messagesDropdown" role="button" data-toggle="dropdown"
                                    aria-haspopup="true" aria-expanded="false">
                                    <i class="fas fa-envelope fa-fw"></i>

                                    <span class="badge badge-danger badge-counter">7</span>
                                </a>

                                <div class="dropdown-list dropdown-menu dropdown-menu-right shadow animated--grow-in"
                                    aria-labelledby="messagesDropdown">
                                    <h6 class="dropdown-header">
                                        Message Center
                                    </h6>
                                    <a class="dropdown-item d-flex align-items-center" href="#">
                                        <div class="dropdown-list-image mr-3">
                                            <img class="rounded-circle" src="">
                                            <div class="status-indicator bg-success"></div>
                                        </div>
                                        <div class="font-weight-bold">
                                            <div class="text-truncate">message 1.</div>
                                            <div class="small text-gray-500">user2 Â· 58m</div>
                                        </div>
                                    </a>
                                    <a class="dropdown-item d-flex align-items-center" href="#">
                                        <div class="dropdown-list-image mr-3">
                                            <img class="rounded-circle">
                                            <div class="status-indicator"></div>
                                        </div>
                                        <div>
                                            <div class="text-truncate">message 2</div>
                                            <div class="small text-gray-500">user3 Â· 1d</div>
                                        </div>
                                    </a>
                                    <a class="dropdown-item d-flex align-items-center" href="#">
                                        <div class="dropdown-list-image mr-3">
                                            <img class="rounded-circle">
                                            <div class="status-indicator bg-warning"></div>
                                        </div>
                                        <div>
                                            <div class="text-truncate">message 3</div>
                                            <div class="small text-gray-500"> user4 Â· 2d</div>
                                        </div>
                                    </a>
                                    <a class="dropdown-item d-flex align-items-center" href="#">
                                        <div class="dropdown-list-image mr-3">
                                            <img class="rounded-circle">
                                            <div class="status-indicator bg-success"></div>
                                        </div>
                                        <div>
                                            <div class="text-truncate">message 5...</div>
                                            <div class="small text-gray-500">user 6 Â· 2w</div>
                                        </div>
                                    </a>
                                    <a class="dropdown-item text-center small text-gray-500" href="#">Read More
                                        Messages</a>
                                </div>
                            </li>---->

                            <div class="topbar-divider d-none d-sm-block"></div>



                            <!-- Nav Item - User Information -->
                            <li class="nav-item dropdown no-arrow">
                                <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button"
                                    data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    <span class="mr-2 d-none d-lg-inline text-gray-600 small">User Name</span>
                                    <img class="img-profile rounded-circle" src="/img/arafa.jpg">
                                </a>
                                <!-- Dropdown - User Information -->
                                <div class="dropdown-menu dropdown-menu-right shadow animated--grow-in"
                                    aria-labelledby="userDropdown">
                                    <a class="dropdown-item" href="http://localhost:8080/form">
                                        <i class="fas fa-user fa-sm fa-fw mr-2 text-gray-400"></i>
                                        Profile
                                    </a>
                                    <a class="dropdown-item" href="#">
                                        <i class="fas fa-cogs fa-sm fa-fw mr-2 text-gray-400"></i>
                                        Settings
                                    </a>
                                    <a class="dropdown-item" href="#">
                                        <i class="fas fa-list fa-sm fa-fw mr-2 text-gray-400"></i>
                                        Activity Log
                                    </a>
                                    <div class="dropdown-divider"></div>
                                    <a class="dropdown-item" href="/logout" data-toggle="modal" data-target="#logoutModal">
                                        <i class="fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"></i>
                                        Logout
                                    </a>
                                </div>
                            </li>

                    </ul>

                </nav>
                <!-- End of Topbar -->
            </div>
            <!-- End of Main Content -->

         <!-- Begin with Session Admin -->
         <br><br><br><br>
             <a href="http://localhost:8080/A_Loisir">Add Loisir</a>
             <a href="http://localhost:8080/question">Question</a>
             <a href="http://localhost:8080/user">User View</a>
             <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/morris.js/0.5.1/morris.css">
             <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
             <script src="//cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js"></script>
             <script src="//cdnjs.cloudflare.com/ajax/libs/morris.js/0.5.1/morris.min.js"></script>
             <div class="ListNotif">
               <ul>
                   <% for (var i = 0; i < notifs.length; i++) { %>
                      <li> <%= notifs[i] %> </li>
                  <% } %>
              </ul>
             </div>

             <div id="myfirstchart" style="height: 250px, weight: 50px"></div>
             <br><br>
             <div id="mysecondchart" style="height: 250px, weight: 50px"></div>
             <br><br>
             <div id="mythirdchart" style="height: 250px, weight: 50px"></div>
             <br><br><br>

             <script src="/socket.io/socket.io.js" ></script>
             <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
             <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.js"></script>
             <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.3.0/socket.io.js"></script>
             <script src="https://cdnjs.cloudflare.com/ajax/libs/notify/0.4.2/notify.js"></script>

             <script type="text/javascript">
               //Connect with socket
                var io = io("http://localhost:8080");
              //Send Name of user to server
                io.emit("user_connected", "<%= name %>");
              //Get the name of User from server
                io.on("user_connected", function (username){
                  console.log("User Name :"+username);
                })
              //Get the message from server and send notification
                io.on ("NewQst", function(message) {
                    console.log(message);
                    $.notify("New Message\n" + message.Message + "\n\nFrom  :" + message.Name,{
                      autoHide :false,
                      className : "success"
                    });
                })
              //Get the message from server and send notification
                io.on ("NewRes", function(message) {
                    console.log(message);
                    $.notify("New Message\n" + message.Message + "\n\nFrom  :" + message.Name,{
                      autoHide :false,
                      className : "success"
                    });
                })
             </script>

             <script type="text/javascript">
               let output2 = <%-  JSON.stringify(output2)  %>;
               let output1 = <%-  JSON.stringify(output1)  %>;
               new Morris.Line({
                  // ID of the element in which to draw the chart.
                  element: 'myfirstchart',
                  // Chart data records -- each entry in this array corresponds to a point on
                  // the chart.
                  data: [
                  { year: '2008', value: 20 ,value2:12 },
                  { year: '2009', value: 10 ,value2:5},
                  { year: '2010', value: 5 ,value2:3},
                  { year: '2011', value: 5 ,value2:2},
                  { year: '2012', value: 20 ,value2:1},

                  ],
                  // The name of the data record attribute that contains x-values.
                  xkey: 'year',
                  // A list of names of data record attributes that contain y-values.
                  ykeys: ['value','value2'],
                  // Labels for the ykeys -- will be displayed when you hover over the
                  // chart.
                  labels: ['Value','Value2']
                });
                //-----------------------This part for Status
                new Morris.Bar({
                   // ID of the element in which to draw the chart.
                   element: 'mysecondchart',
                   // Chart data records -- each entry in this array corresponds to a point on
                   // the chart.
                   data: output1,
                   // The name of the data record attribute that contains x-values.
                   xkey: 'status',
                   // A list of names of data record attributes that contain y-values.
                   ykeys: ['value'],
                   // Labels for the ykeys -- will be displayed when you hover over the
                   // chart.
                   labels: ['Value']
                 })
                 //-----------This part for Gender
                 new Morris.Donut({
                    // ID of the element in which to draw the chart.
                    element: 'mythirdchart',
                    // Chart data records -- each entry in this array corresponds to a point on
                    // the chart.
                    data: output2,
                  })
             </script>
